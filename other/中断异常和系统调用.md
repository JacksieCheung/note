### 中断 异常 系统调用

* 中断

  产生于外设 如网卡、声卡

  异步事件（并不知道什么时候产生）

  处理结果是继续执行。中断处理程序对用户完全透明

* 异常

  应用程序被动产生，程序意想不到的行为（非主动） 除0操作、访问错误地址、内存不够

  同步事件（执行到一条指令一定会产生）

  处理结果是杀死程序或者重复执行该指令（如内存不够）

* 系统调用

  应用程序主动产生，请求操作系统提供服务 如打开文件、发送网络包

  同步或者异步事件，系统调用返回的时间异步，但发送同步

  处理结果是等待，之后继续执行

中断和异常都会保存当前执行的状态，之后回恢复（异常可能杀死）

保存状态后回暂停当前程序，去处理中断处理程序和异常处理程序。

系统调用则不同，操作系统提供了函数接口，某些函数会直接调用这些接口，如 printf 调用 write 的系统函数

> windows 提供 win32 api，unix类 提供 posix api



### 内核态和用户态的概念

多数计算机有两种运行模式：内核态和用户态（嵌入式系统没有内核态）

* 内核态

  操作系统运行在内核态，拥有全部权限，能执行任何机器指令，能访问所有硬件

* 用户态

  其他软件运行在用户态，只能执行机器指令的一部分子集。io什么的都不允许控制

用户接口程序（shell 和 gui（实际就是用户图形界面））运行在用户态的最底层，允许用户运行其他程序。



### 内存



